---
// VideoSection component for embedding Vimeo video
// Uses a lightweight facade pattern for better performance
---

<div class="mt-16 md:mt-24">
  <h2 class="text-4xl lg:text-5xl font-bold lg:tracking-tight bg-gradient-to-r from-purple-500 to-cyan-500 bg-clip-text text-transparent text-center">
    Watch Now
  </h2>
  <p class="text-lg mt-4 text-slate-600 text-center max-w-2xl mx-auto">
    Check out our latest video and get a glimpse into the world of DJStrappy.
  </p>
  <div class="mt-8 flex justify-center">
    <div 
      id="video-facade" 
      class="w-full max-w-4xl aspect-video rounded-lg overflow-hidden shadow-xl cursor-pointer relative bg-gradient-to-br from-purple-900 to-cyan-900"
      role="button"
      tabindex="0"
      aria-label="Play DJStrappy Video">
      <div class="absolute inset-0 flex items-center justify-center">
        <div class="w-20 h-20 bg-white/90 rounded-full flex items-center justify-center shadow-lg hover:bg-white hover:scale-110 transition-transform">
          <svg class="w-10 h-10 text-purple-600 ml-1" fill="currentColor" viewBox="0 0 24 24">
            <path d="M8 5v14l11-7z"/>
          </svg>
        </div>
      </div>
      <div class="absolute bottom-4 left-4 text-white/80 text-sm">
        Click to load video
      </div>
    </div>
    <div id="video-container" class="w-full max-w-4xl aspect-video rounded-lg overflow-hidden shadow-xl hidden">
      <!-- Iframe loaded dynamically on user interaction -->
    </div>
  </div>
</div>

<script>
  const facade = document.getElementById('video-facade');
  const container = document.getElementById('video-container');
  
  function loadVideo(): void {
    if (!facade || !container) return;
    
    const iframe = document.createElement('iframe');
    iframe.src = 'https://player.vimeo.com/video/1142285516?h=&title=0&byline=0&portrait=0&autoplay=1';
    iframe.className = 'w-full h-full border-0';
    iframe.allow = 'autoplay; fullscreen; picture-in-picture';
    iframe.allowFullscreen = true;
    iframe.title = 'DJStrappy Video';
    
    container.appendChild(iframe);
    facade.classList.add('hidden');
    container.classList.remove('hidden');
  }
  
  facade?.addEventListener('click', loadVideo);
  facade?.addEventListener('keydown', (e: KeyboardEvent) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      loadVideo();
    }
  });
</script>
