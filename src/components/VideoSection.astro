---
// VideoSection component for embedding Vimeo video with lazy loading facade
// The iframe is only loaded when user interacts, improving initial page load performance
---

<div class="mt-16 md:mt-24">
  <h2 class="text-4xl lg:text-5xl font-bold lg:tracking-tight bg-gradient-to-r from-purple-500 to-cyan-500 bg-clip-text text-transparent text-center">
    Watch Now
  </h2>
  <p class="text-lg mt-4 text-slate-600 text-center max-w-2xl mx-auto">
    Check out our latest video and get a glimpse into the world of DJStrappy.
  </p>
  <div class="mt-8 flex justify-center">
    <div id="video-container" class="w-full max-w-4xl aspect-video rounded-lg overflow-hidden shadow-xl">
      <!-- Video facade - lightweight placeholder that loads the iframe on click -->
      <button 
        id="video-facade" 
        class="video-facade w-full h-full bg-gradient-to-br from-purple-900 to-cyan-900 flex items-center justify-center cursor-pointer group relative"
        aria-label="Play video"
        type="button">
        <div class="absolute inset-0 bg-black/20 group-hover:bg-black/30 transition-colors"></div>
        <div class="relative z-10 flex flex-col items-center gap-4">
          <svg class="w-20 h-20 text-white/90 group-hover:text-white group-hover:scale-110 transition-all" viewBox="0 0 24 24" fill="currentColor">
            <path d="M8 5v14l11-7z"/>
          </svg>
          <span class="text-white/80 text-lg font-medium">Click to play video</span>
        </div>
      </button>
    </div>
  </div>
</div>

<style>
  .video-facade {
    border: none;
    appearance: none;
  }
</style>

<script>
  const videoContainer = document.getElementById('video-container');
  const videoFacade = document.getElementById('video-facade');
  
  function loadVideo(): void {
    if (!videoContainer || !videoFacade) return;
    
    const iframe = document.createElement('iframe');
    iframe.src = 'https://player.vimeo.com/video/1142285516?h=&title=0&byline=0&portrait=0&autoplay=1';
    iframe.className = 'w-full h-full border-0';
    iframe.allow = 'autoplay; fullscreen; picture-in-picture';
    iframe.allowFullscreen = true;
    iframe.title = 'DJStrappy Video';
    
    videoFacade.remove();
    videoContainer.appendChild(iframe);
  }
  
  videoFacade?.addEventListener('click', loadVideo, { once: true });
</script>
